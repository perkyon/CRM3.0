# üì¶ –ö–∞—Ä—Ç–æ—á–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–°–∏—Å—Ç–µ–º–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–∞—Ä—Ç–æ—á–µ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –¥–ª—è –º–µ–±–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ —Å —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏:

1. **–ú–∞—Ç–µ—Ä–∏–∞–ª—ã** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞–º–∏ –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è–º–∏
2. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –ø—Ä–æ–µ–∫—Ç** - –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —á–µ—Ä—Ç–µ–∂–∏
3. **–≠—Ç–∞–ø—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞** - –≥–∏–±–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞–º–∏ —Å —à–∞–±–ª–æ–Ω–∞–º–∏

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
src/
‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îú‚îÄ‚îÄ production/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ComponentDetailCard.tsx    # –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–∞—Ä—Ç–æ—á–∫–∏
‚îÇ   ‚îî‚îÄ‚îÄ pages/
‚îÇ       ‚îî‚îÄ‚îÄ ComponentDetail.tsx        # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ constants/
‚îÇ       ‚îî‚îÄ‚îÄ materialTemplates.ts       # –®–∞–±–ª–æ–Ω—ã —ç—Ç–∞–ø–æ–≤ –ø–æ —Ç–∏–ø–∞–º –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤

supabase/
‚îî‚îÄ‚îÄ add-component-details-tables.sql   # SQL –º–∏–≥—Ä–∞—Ü–∏—è –¥–ª—è –ë–î
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ SQL –º–∏–≥—Ä–∞—Ü–∏—é

–û—Ç–∫—Ä–æ–π—Ç–µ **Supabase SQL Editor** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```sql
-- –§–∞–π–ª: supabase/add-component-details-tables.sql
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—ã:
- `component_materials` - –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- `component_documents` - –¥–æ–∫—É–º–µ–Ω—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –î–æ–±–∞–≤–∏—Ç –ø–æ–ª—è `material_type`, `title`, `assignee`, `note`

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

```tsx
import { ComponentDetailCard } from '../production/ComponentDetailCard';

function MyComponent() {
  const component = {
    id: '1',
    name: '–ö–æ—Ä–ø—É—Å',
    material: '–õ–î–°–ü 18–º–º',
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
  };

  return (
    <ComponentDetailCard
      component={component}
      onUpdate={() => console.log('Updated')}
      onDelete={() => console.log('Deleted')}
    />
  );
}
```

## üé® –¢–∏–ø—ã –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –∏ —à–∞–±–ª–æ–Ω—ã

### –õ–î–°–ü
- –†–∞—Å–∫—Ä–æ–π / –ø—Ä–∏—Å–∞–¥–∫–∞ / –ß–ü–£
- –ö—Ä–æ–º–∫–æ–≤–∞–Ω–∏–µ
- –ü—Ä–µ–¥—Å–±–æ—Ä–∫–∞
- –£–ø–∞–∫–æ–≤–∫–∞
- –î–æ—Å—Ç–∞–≤–∫–∞ / –ú–æ–Ω—Ç–∞–∂
**‚ùó –ë–ï–ó —à–ª–∏—Ñ–æ–≤–∫–∏**

### –ú–î–§-–≠–º–∞–ª—å
- –†–∞—Å–∫—Ä–æ–π / –ø—Ä–∏—Å–∞–¥–∫–∞ / –ß–ü–£
- –ü—Ä–µ–¥—Å–±–æ—Ä–∫–∞
- –®–ª–∏—Ñ–æ–≤–∫–∞
- –ü–æ–∫—Ä–∞—Å–∫–∞
- –û—Ç–∫–æ–Ω—Ç—Ä–æ–ª—å QA
- –£–ø–∞–∫–æ–≤–∫–∞
- –î–æ—Å—Ç–∞–≤–∫–∞ / –ú–æ–Ω—Ç–∞–∂

### –®–ø–æ–Ω
- –†–∞—Å–∫—Ä–æ–π / –ø—Ä–∏—Å–∞–¥–∫–∞ / –ß–ü–£
- –ö—Ä–æ–º–∫–æ–≤–∞–Ω–∏–µ
- –ü—Ä–µ–¥—Å–±–æ—Ä–∫–∞
- –®–ª–∏—Ñ–æ–≤–∫–∞
- –ü–æ–∫–ª–µ–π–∫–∞ —à–ø–æ–Ω–∞
- –®–ª–∏—Ñ–æ–≤–∫–∞ —Ñ–∏–Ω–∏—à
- –ü–æ–∫—Ä—ã—Ç–∏–µ / –ª–∞–∫
- –û—Ç–∫–æ–Ω—Ç—Ä–æ–ª—å QA
- –£–ø–∞–∫–æ–≤–∫–∞
- –î–æ—Å—Ç–∞–≤–∫–∞ / –ú–æ–Ω—Ç–∞–∂

### –ö–∞—Å—Ç–æ–º–Ω—ã–π
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —ç—Ç–∞–ø 1 (–ø—É—Å—Ç–æ–π —à–∞–±–ª–æ–Ω)

## ‚öôÔ∏è –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ú–∞—Ç–µ—Ä–∏–∞–ª—ã
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ)
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ

### –î–æ–∫—É–º–µ–Ω—Ç—ã
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (–Ω–∞–∑–≤–∞–Ω–∏–µ, URL)
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ
- üîó –í–Ω–µ—à–Ω–∏–µ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏

### –≠—Ç–∞–ø—ã –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∑–∞–º–µ—Ç–æ–∫
- üîÑ –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ (todo/doing/qa/done)
- ‚¨ÜÔ∏è‚¨áÔ∏è –ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞
- üóëÔ∏è –£–¥–∞–ª–µ–Ω–∏–µ
- üìä –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

### –°–º–µ–Ω–∞ —Ç–∏–ø–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞
–ü—Ä–∏ —Å–º–µ–Ω–µ —Ç–∏–ø–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–∞ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è:
- **–ó–∞–º–µ–Ω–∏—Ç—å** - —É–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–∏–µ —ç—Ç–∞–ø—ã –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å —à–∞–±–ª–æ–Ω
- **–û–±—ä–µ–¥–∏–Ω–∏—Ç—å** - –¥–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ —ç—Ç–∞–ø—ã –∏–∑ —à–∞–±–ª–æ–Ω–∞

## üìä –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

```typescript
progress = (–∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö —ç—Ç–∞–ø–æ–≤ / –≤—Å–µ–≥–æ —ç—Ç–∞–ø–æ–≤) * 100
```

–≠—Ç–∞–ø —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–º, –µ—Å–ª–∏ –µ–≥–æ —Å—Ç–∞—Ç—É—Å = `done`.

## üîê –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ (–±—É–¥—É—â–µ–µ)

- **–ú–µ–Ω–µ–¥–∂–µ—Ä** - –ø–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞
- **–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–æ** - —Ç–æ–ª—å–∫–æ —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–æ–≤ –∏ –∑–∞–º–µ—Ç–∫–∏
- **–ü—Ä–æ—Å–º–æ—Ç—Ä** - read-only

## üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –¥–∏–∑–∞–π–Ω** –≤ —Å—Ç–∏–ª–µ Tailwind
- **–¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–æ–≤**:
  - üü¢ –ó–∞–≤–µ—Ä—à–µ–Ω–æ (–∑–µ–ª–µ–Ω—ã–π)
  - üîµ –í —Ä–∞–±–æ—Ç–µ (—Å–∏–Ω–∏–π)
  - üü° –ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ (–∂–µ–ª—Ç—ã–π)
  - ‚ö™ –ö –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—é (—Å–µ—Ä—ã–π)
- **–ü—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä** –≤ —à–∞–ø–∫–µ –∫–∞—Ä—Ç–æ—á–∫–∏
- **Inline —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –±—ã—Å—Ç—Ä—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üöÄ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Å–∏—Å—Ç–µ–º—É

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

```tsx
import { Dialog, DialogContent } from '../ui/dialog';
import { ComponentDetailCard } from '../production/ComponentDetailCard';

function ItemPanel() {
  const [selectedComponent, setSelectedComponent] = useState(null);
  
  return (
    <>
      {/* –°–ø–∏—Å–æ–∫ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ */}
      <div onClick={() => setSelectedComponent(component)}>
        {component.name}
      </div>
      
      {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */}
      <Dialog open={!!selectedComponent} onOpenChange={() => setSelectedComponent(null)}>
        <DialogContent className="max-w-4xl">
          {selectedComponent && (
            <ComponentDetailCard
              component={selectedComponent}
              onUpdate={loadData}
              onDelete={() => { deleteComponent(); setSelectedComponent(null); }}
            />
          )}
        </DialogContent>
      </Dialog>
    </>
  );
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞

```tsx
// –í routes.tsx –¥–æ–±–∞–≤–∏—Ç—å:
{
  path: '/production/component/:componentId',
  element: <ComponentDetail />
}

// –ü–µ—Ä–µ—Ö–æ–¥:
navigate(`/production/component/${component.id}`);
```

## üìù TODO (–±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è)

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º API
- [ ] Drag & drop –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ—Ä—è–¥–∫–∞ —ç—Ç–∞–ø–æ–≤
- [ ] –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π –Ω–∞ —ç—Ç–∞–ø—ã
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π
- [ ] –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –æ–±—Å—É–∂–¥–µ–Ω–∏—è
- [ ] –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –Ω–∞–ø—Ä—è–º—É—é
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ PDF

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É:
```
http://localhost:3000/component/test-1
```

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–ø—Ä—è–º—É—é –≤ –≤–∞—à–µ–º –∫–æ–¥–µ.

## üí° –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ —Å —à–∞–±–ª–æ–Ω–æ–º

```typescript
import { getStagesForMaterial } from '../../lib/constants/materialTemplates';

const newComponent = {
  name: '–§–∞—Å–∞–¥',
  materialType: 'MDF_EMAL',
  stages: getStagesForMaterial('MDF_EMAL')
};
```

### –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏–∑–¥–µ–ª–∏—è

```typescript
import { calculateProgress } from '../../lib/constants/materialTemplates';

const itemProgress = components.reduce((sum, comp) => {
  return sum + calculateProgress(comp.stages);
}, 0) / components.length;
```

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

1. **–ú–æ–∫–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - —Å–µ–π—á–∞—Å –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î (–Ω—É–∂–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API)
2. **RLS –ø–æ–ª–∏—Ç–∏–∫–∏** - –Ω–µ —Å–æ–∑–¥–∞–Ω—ã –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü (–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–µ–Ω—ã)

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ issue.

---

**–í–µ—Ä—Å–∏—è:** 1.0.0  
**–î–∞—Ç–∞:** 27.10.2025

