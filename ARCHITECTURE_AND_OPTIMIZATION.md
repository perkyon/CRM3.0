# üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è Buro CRM

## üìä –¢–∏–ø –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

### –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞: **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è (Monolithic) —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏**

**–ü–æ—á–µ–º—É –º–æ–Ω–æ–ª–∏—Ç–Ω–∞—è:**
- –û–¥–∏–Ω —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React SPA)
- –û–¥–∏–Ω backend (Supabase –∫–∞–∫ –µ–¥–∏–Ω—ã–π BaaS)
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –ï–¥–∏–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–µ–ø–ª–æ—è

**–≠–ª–µ–º–µ–Ω—Ç—ã –º–æ–¥—É–ª—å–Ω–æ—Å—Ç–∏:**
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ —Å–ª–æ–∏ (`ClientService`, `ProjectService`, `KanbanService`)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Zustand stores –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- Custom hooks –¥–ª—è –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–∏ –ª–æ–≥–∏–∫–∏
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ React

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:
‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –¥–µ–ø–ª–æ—è  
‚úÖ –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ –≤—Ö–æ–¥–∞ –¥–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤  
‚úÖ –õ–µ–≥–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º—ã  
‚úÖ –ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤—ã—Ö —Ñ–∏—á  
‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã  
‚úÖ –û–¥–∏–Ω –¥–µ–ø–ª–æ–π = –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ–≥–æ  

### –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ (–∫–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã):
‚ùå –ü—Ä–∏ —Ä–æ—Å—Ç–µ –∫–æ–º–∞–Ω–¥—ã - –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏  
‚ùå –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ - –Ω—É–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –≤–µ—Å—å –º–æ–Ω–æ–ª–∏—Ç  
‚ùå –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è - –≤—Å–µ –Ω–∞ –æ–¥–Ω–æ–º —Å—Ç–µ–∫–µ  
‚ùå –û—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å - –ø–∞–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ = –ø–∞–¥–µ–Ω–∏–µ –≤—Å–µ–≥–æ  

---

## üöÄ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### 1. ‚úÖ –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:

#### Database –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–ë–∞—Ç—á-–∑–∞–ø—Ä–æ—Å—ã** –≤–º–µ—Å—Ç–æ N+1 –∑–∞–ø—Ä–æ—Å–æ–≤:
  ```typescript
  // –ë—ã–ª–æ: N –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
  clients.map(client => fetchContacts(client.id))
  
  // –°—Ç–∞–ª–æ: 1 –∑–∞–ø—Ä–æ—Å –¥–ª—è –≤—Å–µ—Ö
  fetchAllContacts(clientIds)
  ```

#### Frontend –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **Code Splitting** - –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  ```typescript
  const Dashboard = lazy(() => import('./pages/Dashboard'));
  ```
- **React Query (TanStack Query)** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ:
  ```typescript
  const { data } = useQuery({
    queryKey: ['clients'],
    staleTime: 5 * 60 * 1000, // 5 –º–∏–Ω—É—Ç –∫—ç—à
  });
  ```
- **Zustand —Å persist** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ localStorage
- **Vite** - –±—ã—Å—Ç—Ä–∞—è —Å–±–æ—Ä–∫–∞ –∏ HMR
- **Debounce** –¥–ª—è –ø–æ–∏—Å–∫–∞
- **Virtual scrolling** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å)

#### Network –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **Pagination** - –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ—Ä—Ü–∏—è–º–∏
- **Select —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è** –≤ Supabase –∑–∞–ø—Ä–æ—Å–∞—Ö
- **–ò–Ω–¥–µ–∫—Å—ã** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

---

### 2. üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

#### A. Database —É—Ä–æ–≤–µ–Ω—å:

**1. –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ —á–∞—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–æ–ª—è:**
```sql
-- –î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤
CREATE INDEX idx_clients_name ON clients(name);
CREATE INDEX idx_clients_status ON clients(status);
CREATE INDEX idx_clients_created_at ON clients(created_at DESC);

-- –î–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤
CREATE INDEX idx_projects_stage ON projects(stage);
CREATE INDEX idx_projects_client_id ON projects(client_id);

-- –î–ª—è –∫–∞–Ω–±–∞–Ω –∑–∞–¥–∞—á
CREATE INDEX idx_kanban_tasks_column_id ON kanban_tasks(column_id);
CREATE INDEX idx_kanban_tasks_status ON kanban_tasks(status);
```

**2. –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞:**
```sql
CREATE MATERIALIZED VIEW dashboard_stats AS
SELECT 
  COUNT(DISTINCT c.id) as total_clients,
  COUNT(DISTINCT p.id) as total_projects,
  COUNT(DISTINCT CASE WHEN p.stage = 'production' THEN p.id END) as active_projects
FROM clients c
LEFT JOIN projects p ON p.client_id = c.id;

-- –û–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç —á–µ—Ä–µ–∑ cron
REFRESH MATERIALIZED VIEW dashboard_stats;
```

**3. –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü:**
```sql
-- –ï—Å–ª–∏ tasks —Å—Ç–∞–Ω–µ—Ç > 1M –∑–∞–ø–∏—Å–µ–π
CREATE TABLE kanban_tasks_2024 PARTITION OF kanban_tasks
FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');
```

**4. Connection pooling:**
- Supabase –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç PgBouncer
- –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—É–ª–∞ –¥–ª—è production

#### B. Frontend —É—Ä–æ–≤–µ–Ω—å:

**1. React.memo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**
```typescript
export const ClientCard = React.memo(({ client }: Props) => {
  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –±—É–¥–µ—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ props
}, (prevProps, nextProps) => {
  return prevProps.client.id === nextProps.client.id;
});
```

**2. useMemo –∏ useCallback:**
```typescript
const filteredClients = useMemo(() => {
  return clients.filter(c => c.name.includes(search));
}, [clients, search]);

const handleClick = useCallback((id: string) => {
  navigate(`/clients/${id}`);
}, [navigate]);
```

**3. Virtual scrolling –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤:**
```typescript
import { useVirtualizer } from '@tanstack/react-virtual';

const virtualizer = useVirtualizer({
  count: clients.length,
  getScrollElement: () => parentRef.current,
  estimateSize: () => 80,
});
```

**4. Service Worker –¥–ª—è –æ—Ñ–ª–∞–π–Ω –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
```typescript
// –£–∂–µ –µ—Å—Ç—å useServiceWorker hook
// –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:
// - Cache First –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
// - Network First –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤
// - Stale While Revalidate –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
```

**5. Image optimization:**
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Image Transform API:
const optimizedUrl = `${imageUrl}?width=400&height=300&quality=80`;
```

**6. Bundle size –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
```bash
npm run analyze  # –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞ –±–∞–Ω–¥–ª–∞
# –£–±—Ä–∞—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å tree-shaking
```

#### C. API —É—Ä–æ–≤–µ–Ω—å:

**1. GraphQL –≤–º–µ—Å—Ç–æ REST (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
```typescript
// Supabase –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç GraphQL —á–µ—Ä–µ–∑ PostgREST
// –ü–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞–ø—Ä–∞—à–∏–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
query {
  clients {
    id
    name
    projects {
      id
      title
    }
  }
}
```

**2. Batch requests:**
```typescript
// –£–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –¥–ª—è contacts/addresses
// –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å –Ω–∞ –¥—Ä—É–≥–∏–µ —Å—É—â–Ω–æ—Å—Ç–∏
```

**3. Request deduplication:**
```typescript
// React Query –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–µ–¥—É–ø–ª–∏—Ü–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã
// –ï—Å–ª–∏ –¥–≤–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–ø—Ä–∞—à–∏–≤–∞—é—Ç –æ–¥–Ω–∏ –¥–∞–Ω–Ω—ã–µ - –±—É–¥–µ—Ç –æ–¥–∏–Ω –∑–∞–ø—Ä–æ—Å
```

**4. Prefetching:**
```typescript
// –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ hover
const prefetchClient = (id: string) => {
  queryClient.prefetchQuery({
    queryKey: ['client', id],
    queryFn: () => fetchClient(id),
  });
};
```

#### D. Real-time –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:

**1. Selective subscriptions:**
```typescript
// –ü–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω—É–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
supabase
  .channel('clients')
  .on('postgres_changes', 
    { event: 'UPDATE', schema: 'public', table: 'clients', filter: `id=eq.${clientId}` },
    handleUpdate
  )
  .subscribe();
```

**2. Debounce –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**
```typescript
const debouncedUpdate = useMemo(
  () => debounce((data) => {
    updateState(data);
  }, 300),
  []
);
```

---

### 3. üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

**–¢–µ–∫—É—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏ (—Ü–µ–ª–µ–≤—ã–µ):**
- ‚úÖ First Contentful Paint (FCP): < 1.5s
- ‚úÖ Largest Contentful Paint (LCP): < 2.5s
- ‚úÖ Time to Interactive (TTI): < 3.5s
- ‚úÖ Cumulative Layout Shift (CLS): < 0.1
- ‚úÖ Total Blocking Time (TBT): < 200ms

**–ò–∑–º–µ—Ä–µ–Ω–∏–µ:**
```bash
# Lighthouse CI
npm install -g @lhci/cli
lhci autorun

# Vercel Analytics (—É–∂–µ –ø–æ–¥–∫–ª—é—á–µ–Ω)
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç Web Vitals
```

---

## üìà –ë–∏–∑–Ω–µ—Å-–º–µ—Ç—Ä–∏–∫–∏ –∏ —Ä–∞—Å—á–µ—Ç—ã

### –†–∞—Å—á–µ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏ —Ü–µ—Ö–∞ (Shop Load)

**–§–æ—Ä–º—É–ª–∞:**
```
–ù–∞–≥—Ä—É–∑–∫–∞ —Ü–µ—Ö–∞ (%) = 100 - –°—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞
```

**–ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞—Å—á–µ—Ç–∞:**

1. **–ù–∞—Ö–æ–¥–∏–º –ø—Ä–æ–µ–∫—Ç—ã –≤ —Å—Ç–∞–¥–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞:**
   ```sql
   SELECT id FROM projects WHERE stage = 'production'
   ```

2. **–ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –∏–∑–¥–µ–ª–∏—è (production_items) –¥–ª—è —ç—Ç–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤:**
   ```sql
   SELECT progress_percent 
   FROM production_items 
   WHERE project_id IN (—Å–ø–∏—Å–æ–∫_id_–ø—Ä–æ–µ–∫—Ç–æ–≤)
   ```

3. **–í—ã—á–∏—Å–ª—è–µ–º —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:**
   ```typescript
   const totalProgress = items.reduce((sum, item) => 
     sum + (item.progress_percent || 0), 0
   );
   const averageProgress = totalProgress / items.length;
   ```

4. **–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –Ω–∞–≥—Ä—É–∑–∫—É:**
   ```typescript
   const shopLoadPercent = Math.round(100 - averageProgress);
   // –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–∏–∞–ø–∞–∑–æ–Ω –æ—Ç 0 –¥–æ 100%
   return Math.max(0, Math.min(100, shopLoadPercent));
   ```

**–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è:**
- **0%** - —Ü–µ—Ö –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å–≤–æ–±–æ–¥–µ–Ω (–≤—Å–µ –∏–∑–¥–µ–ª–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω—ã)
- **50%** - —Ü–µ—Ö –∑–∞–≥—Ä—É–∂–µ–Ω –Ω–∞–ø–æ–ª–æ–≤–∏–Ω—É (—Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å = 50%)
- **100%** - —Ü–µ—Ö –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω (–≤—Å–µ –∏–∑–¥–µ–ª–∏—è —Ç–æ–ª—å–∫–æ –Ω–∞—á–∞—Ç—ã)

**–ü—Ä–∏–º–µ—Ä:**
```
–ü—Ä–æ–µ–∫—Ç 1: 3 –∏–∑–¥–µ–ª–∏—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º [20%, 50%, 80%] ‚Üí —Å—Ä–µ–¥–Ω–∏–π = 50%
–ü—Ä–æ–µ–∫—Ç 2: 2 –∏–∑–¥–µ–ª–∏—è —Å –ø—Ä–æ–≥—Ä–µ—Å—Å–æ–º [10%, 30%] ‚Üí —Å—Ä–µ–¥–Ω–∏–π = 20%

–û–±—â–∏–π —Å—Ä–µ–¥–Ω–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å = (50% + 20%) / 2 = 35%
–ù–∞–≥—Ä—É–∑–∫–∞ —Ü–µ—Ö–∞ = 100% - 35% = 65%
```

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** `src/lib/supabase/services/DashboardService.ts::getShopLoad()`

---

## üîÑ –ö–æ–≥–¥–∞ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã?

### –°–∏–≥–Ω–∞–ª—ã –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏:

**1. –ö–æ–º–∞–Ω–¥–∞ > 10 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –æ–¥–Ω–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π

**2. –†–∞–∑–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é:**
- –ö–∞–Ω–±–∞–Ω-–¥–æ—Å–∫–∞ = –≤—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —á—Ç–µ–Ω–∏–µ
- –û—Ç—á–µ—Ç—ã = —Ç—è–∂–µ–ª—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –î–æ–∫—É–º–µ–Ω—Ç—ã = –±–æ–ª—å—à–æ–π —Ç—Ä–∞—Ñ–∏–∫ storage

**3. –†–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç–µ–∫–∏:**
- Python –¥–ª—è ML/–∞–Ω–∞–ª–∏—Ç–∏–∫–∏
- Go –¥–ª—è –≤—ã—Å–æ–∫–æ–Ω–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö API
- Node.js –¥–ª—è real-time

**4. –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –¥–µ–ø–ª–æ–∏:**
- –ù—É–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å –∫–∞–Ω–±–∞–Ω –±–µ–∑ –¥–µ–ø–ª–æ—è –≤—Å–µ–≥–æ

### –í–∞—Ä–∏–∞–Ω—Ç—ã –º–∏–≥—Ä–∞—Ü–∏–∏:

**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend (React SPA)              ‚îÇ
‚îÇ   –û—Å—Ç–∞–µ—Ç—Å—è –º–æ–Ω–æ–ª–∏—Ç–Ω—ã–º              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ             ‚îÇ
‚îå‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Supabase‚îÇ   ‚îÇ Microservices‚îÇ
‚îÇ  Core  ‚îÇ   ‚îÇ  (Optional)  ‚îÇ
‚îÇ  API   ‚îÇ   ‚îÇ              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ –¥–æ–º–µ–Ω–∞–º:**
```
1. Client Service (–∫–ª–∏–µ–Ω—Ç—ã, –∫–æ–Ω—Ç–∞–∫—Ç—ã)
2. Project Service (–ø—Ä–æ–µ–∫—Ç—ã, —ç—Ç–∞–ø—ã)
3. Kanban Service (–∑–∞–¥–∞—á–∏, –∫–æ–ª–æ–Ω–∫–∏)
4. Production Service (–∑–æ–Ω—ã, –∏–∑–¥–µ–ª–∏—è)
5. Document Service (—Ñ–∞–π–ª—ã, storage)
6. Analytics Service (–æ—Ç—á–µ—Ç—ã, –º–µ—Ç—Ä–∏–∫–∏)
```

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:**
- **API Gateway**: Kong, AWS API Gateway
- **Service Mesh**: Istio, Linkerd
- **Message Queue**: RabbitMQ, Kafka
- **Service Discovery**: Consul, Eureka
- **Orchestration**: Kubernetes, Docker Swarm

---

## üéØ –ü–ª–∞–Ω –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã)

### –≠—Ç–∞–ø 1: –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–±–µ–¥—ã (1-2 –Ω–µ–¥–µ–ª–∏)
- [x] –ë–∞—Ç—á-–∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î
- [ ] React.memo –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å image optimization

### –≠—Ç–∞–ø 2: –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (1 –º–µ—Å—è—Ü)
- [ ] –ú–∞—Ç–µ—Ä–∏–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –¥–∞—à–±–æ—Ä–¥–∞
- [ ] Virtual scrolling –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–∏—Ç—å Service Worker –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
- [ ] Prefetching –Ω–∞ hover
- [ ] Request deduplication

### –≠—Ç–∞–ø 3: –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è (3-6 –º–µ—Å—è—Ü–µ–≤)
- [ ] –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å GraphQL
- [ ] –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ç–∞–±–ª–∏—Ü
- [ ] CDN –¥–ª—è —Å—Ç–∞—Ç–∏–∫–∏
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (APM)
- [ ] Load testing –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç

---

## üìö –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ç–µ–∫—É—â–µ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ

### ‚úÖ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:
1. **–ú–æ–Ω–æ–ª–∏—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è —Ç–µ–∫—É—â–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
2. **Service layer** - —Ö–æ—Ä–æ—à–µ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
3. **Zustand** - –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–π –∏ –±—ã—Å—Ç—Ä—ã–π state manager
4. **Supabase** - –æ—Ç–ª–∏—á–Ω—ã–π –≤—ã–±–æ—Ä –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Å—Ç–∞—Ä—Ç–∞

### üîÑ –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
1. **–î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –∏–Ω–¥–µ–∫—Å–æ–≤** –≤ –ë–î
2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.memo** —Ç–∞–º, –≥–¥–µ —ç—Ç–æ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª
3. **–í–Ω–µ–¥—Ä–∏—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª–∏–Ω–≥** –¥–ª—è —Å–ø–∏—Å–∫–æ–≤ > 100 —ç–ª–µ–º–µ–Ω—Ç–æ–≤
4. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** —á–µ—Ä–µ–∑ Supabase transform
5. **–†–∞—Å—à–∏—Ä–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —á–µ—Ä–µ–∑ Service Worker

### üö´ –ß—Ç–æ –ù–ï –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å —Å–µ–π—á–∞—Å:
1. ‚ùå –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –Ω–∞ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã (–ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ)
2. ‚ùå –î–æ–±–∞–≤–ª—è—Ç—å GraphQL (–ø–æ–∫–∞ REST –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
3. ‚ùå –†–∞–∑–¥–µ–ª—è—Ç—å –º–æ–Ω–æ–ª–∏—Ç (–ø—Ä–æ–µ–∫—Ç –Ω–µ –¥–æ—Å—Ç–∏–≥ –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞)
4. ‚ùå –£—Å–ª–æ–∂–Ω—è—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:** ‚≠ê‚≠ê‚≠ê‚≠ê (4/5)
- –•–æ—Ä–æ—à–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç
- –ú–æ–¥—É–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- –ì–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –¥–æ ~1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π:** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê (5/5)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- –ì–æ—Ç–æ–≤ –∫ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—é –¥–æ ~10000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–î–ª—è –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤:** –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏:
- > 10 —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- > 10000 –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ü–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö –¥–µ–ø–ª–æ—è—Ö
- –†–∞–∑–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ —Å—Ç–µ–∫–∏

---

## üîó –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Supabase Performance Best Practices](https://supabase.com/docs/guides/database/performance)
- [React Performance Optimization](https://react.dev/learn/render-and-commit)
- [Web Vitals](https://web.dev/vitals/)
- [Vite Optimization Guide](https://vitejs.dev/guide/performance.html)

